%!TEX root = ./thesis.tex

%%%%%%%%%%%%%%%%%%
% Font settings
%%%%%%%%%%%%%%%%%%
\usepackage[scaled]{berasans}
\usepackage[scaled]{beramono}
\usepackage{tgpagella}
\usepackage[T1,euler-digits]{eulervm}
\usepackage[T1]{fontenc}	  % Activate Type 1 fonts
\usepackage[utf8]{inputenc} % We want æøå
\usepackage{sectsty}        % Change section and chapter header
%\usepackage[scaled]{beraserif}
%\usepackage[scaled]{helvet} % for sans serif fonts (\textsf{...} or \sffamiliy)
%\usepackage[mathcal]{euscript} % For caligraphy fonts
%\usepackage{mathptmx}       % Use Times font, also for math
%\usepackage{newpxtext,newpxmath} New PX font
%\allsectionsfont{\usefont{OT1}{phv}{bc}{n}\selectfont} % Set chapter/section header to narrow
%\usepackage{mathptmx}       % Use Times font, also for math
%\usepackage[mathcal]{euscript} % For caligraphy fonts

%%%%%%%%%%%%%%%%%%
% General packages
%%%%%%%%%%%%%%%%%%
\usepackage[english]{babel}    % language
\usepackage{xspace}
\usepackage{verbatim}   % at least use begin{comment} end{comment}
\usepackage{booktabs}   % Publication quality tables
\usepackage{graphicx}
\usepackage{bmpsize}    % Handles figures
\usepackage{subcaption}
\usepackage{wrapfig}
\usepackage[dvipsnames]{xcolor}     % Handles colors
\usepackage{setspace}   % Easy setting of line spacing
% Change the default alignment of a image from left or right an easy manner:
\usepackage[export]{adjustbox}
\usepackage[final]{pdfpages}
\pdfminorversion=7      % Raise the version of PDF to 1.7
\usepackage{epstopdf}
\usepackage{multirow,multicol}
\usepackage{array}
% caption for figures
\usepackage{caption}
\captionsetup[figure]{labelfont={bf},labelformat={default},labelsep=colon,name={Fig.}}
\captionsetup[table]{labelfont={bf},labelformat={default},labelsep=colon,name={Table}}
\captionsetup{compatibility=false}
\usepackage{alltt}
\usepackage{forloop}		       % For-loops!
\usepackage[numbers,sort&compress]{natbib} % Sort numerical keys for multiple cites
\usepackage{hypernat}       % Avoid breaking 'backref' option of hyperref package
\usepackage{float}
\usepackage{units}				  % semantically represent numbers with units
\usepackage{url}
%\usepackage{chapterbib}

%%%%%%%
% Tikz/PGF
%%%%%%%
\usepackage{tikz}
\usetikzlibrary{positioning,shapes.geometric}
\usetikzlibrary{arrows,automata,positioning}
\usetikzlibrary{calc,decorations,decorations.pathmorphing}
\usetikzlibrary{decorations.text}
\usetikzlibrary{matrix}
\usetikzlibrary{fit}
\usetikzlibrary{patterns}
\usetikzlibrary{topaths}

\usepackage{pgf}

%%%%%%%%%%%%
% Theorems & Math & Algorithms
%%%%%%%%%%%%
\usepackage{amsthm}
\newtheorem{definition}{Definition}
\usepackage{thmtools}

\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{latexsym}

\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\usepackage[inline]{enumitem}

% Font size and spacing
\newcommand{\algfontsize}{\footnotesize}
\newcommand{\algcommentfontsize}{\scriptsize}
\newcommand{\algtypefontsize}{\scriptsize}
\newcommand{\algospacing}{\vspace{\baselineskip}}

% New definition: Switch/Case
\algnewcommand\algorithmicswitch{\textbf{switch}}
\algnewcommand\algorithmiccase{\textbf{case}}
% New "environments"
\algdef{SE}[SWITCH]{Switch}{EndSwitch}[1]{\algorithmicswitch\ #1\ \algorithmicdo}{\algorithmicend\ \algorithmicswitch}%
\algdef{SE}[CASE]{Case}{EndCase}[1]{\algorithmiccase\ #1}{\algorithmicend\ \algorithmiccase}%
\algtext*{EndSwitch}%
\algtext*{EndCase}%

\newcommand{\funclabel}[1]{%
    \@bsphack
    \protected@write\@auxout{}{%
        \string\newlabel{#1}{{\jayden@currentfunction}{\thepage}}%
    }%
    \@esphack
}

%%%%%%%%%%%%
% Listings
%%%%%%%%%%%%
\usepackage[procnames]{listings} % beautiful listings
% some basic setups below as an example
\lstdefinestyle{codestyle}{ %
        basicstyle=\ttfamily\small,
        keywordstyle=\color{blue},
        stringstyle=\color{magenta},
        morecomment=[l][\color{ForestGreen}]{//},
        morecomment=[s][\color{ForestGreen}]{/*}{*/},
        commentstyle=\color{olive},
        backgroundcolor=\color{white},
        breakatwhitespace=false,
        breaklines=true,
        captionpos=b,
        keepspaces=true,
        frame=single,
        showspaces=false,
        showstringspaces=false,
        showtabs=false,
        tabsize=2,
        columns=fullflexible,
}
\lstset{style=codestyle}
% if need more key words, then use the setup below as an example 
% with the listing in the latex document together at the same place. 
%\lstset{morekeywords={struct, chan, int, func, const, interface, type}}

%%%%%%%
% Plots
%%%%%%%
\usepackage{pgfplots}
\usepgfplotslibrary{groupplots}
\pgfplotsset{compat=1.5}

%%%%%%%%%%%%
% Other packages we use
%%%%%%%%%%%%

% For comments:
% Use notes/todonotes for comments
\usepackage{xargs}  % Use more than one optional parameter in a new commands
\usepackage[colorinlistoftodos,prependcaption,textsize=small,textwidth=2cm]{todonotes}
\setlength{\marginparwidth}{2cm}
\newcommandx{\notes}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}

% Use com for comments
\usepackage{comment}
\newcommand{\com}[1]{
        \mbox{}
       \marginpar{\hrule\footnotesize\raggedright\hspace{0pt}#1\vspace{2mm}}
}

%
% Chapter Style Options for fncychap package:
% Sonny, Lenny, Glenn, Conny, Rejne, Bjarne, Bjornstrup
%\usepackage[Bjornstrup]{fncychap}
%

% Chapter Style Setup:
\usepackage{titlesec}
\newcommand*\HUGE{\Huge}
\newcommand*\chapnamefont{\itshape\color{blue}\HUGE\MakeUppercase}
\newcommand*\chapnumfont{\normalfont\color{blue}\HUGE}
\newcommand*\chaptitlefont{\normalfont\huge\bfseries}

\newlength\beforechapskip
\newlength\midchapskip
\setlength\midchapskip{\paperwidth}
\addtolength\midchapskip{-\textwidth}
\addtolength\midchapskip{-\oddsidemargin}
\addtolength\midchapskip{-1in}
\setlength\beforechapskip{18mm}

\titleformat{\chapter}[display]
  {\normalfont\filleft}
  {{\chapnamefont\chaptertitlename}%
    \makebox[36pt][l]{\color{blue}\hspace{.001em}%
      \resizebox{!}{\beforechapskip}{\chapnumfont\thechapter}%
      \hspace{.001em}%
      \rule{\midchapskip}{\beforechapskip}%
    }%
  }%
  {25pt}
  {\chaptitlefont}
\titlespacing*{\chapter}
  {0pt}{40pt}{40pt}

% Section Style Setup:                                                 
\titleformat*{\section}{\fontsize{18}{20}\bfseries}   
\titleformat*{\subsection}{\fontsize{16}{18}\bfseries}   
\titleformat*{\subsubsection}{\fontsize{14}{16}\bfseries}                  
\titleformat*{\paragraph}{\normalsize\itshape\bfseries}   
\titleformat*{\subparagraph}{\normalsize\scshape\bfseries} 
  
%
% The hyperref package allows advanced hyperlinking functionality
%
\usepackage[%dvipdfmx,        % Use dvipdf driver
			backref,         % List citing occurences in the References
			colorlinks,      % Colored links
			citecolor=blue,  % Color of cite links
			linkcolor=blue,  % Color of links
			urlcolor=blue,   % Color of urls
			]{hyperref}
%\newcommand{\aref}[1]{\autoref*{#1}} % Prevent links
\newcommand{\aref}[1]{\autoref{#1}} % Enable links

%\usepackage{pdfcomment} % A user-friendly interface to pdf annotations
%
% Set fancy page header using fancyhdr package
%
\usepackage{fancyhdr}
\pagestyle{fancy}

% Ensure that the chapter and section headings are in lowercase
\setlength{\headheight}{15pt}
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}

% Delete current section for header/footer
\fancyhf{}

% Define header/footer layout
\fancyhead[LE,RO]{\bfseries\thepage}
\fancyhead[LO]{\bfseries\rightmark}
\fancyhead[RE]{\bfseries\leftmark}
\renewcommand{\headrulewidth}{0.5pt}

% make space for the rule
\fancypagestyle{plain}{
	\fancyhead{} %get rid of the headers on plain pages
	\renewcommand{\headrulewidth}{0pt} % and the line
}
