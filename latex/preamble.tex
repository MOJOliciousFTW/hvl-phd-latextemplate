%!TEX root = ./thesis.tex

%
% Font settings
%
\usepackage[T1]{fontenc}	% Activate Type 1 fonts
\usepackage{mathptmx}       % Use Times font, also for math
\usepackage[scaled]{helvet} % for sans serif fonts (\textsf{...} or \sffamiliy)
\usepackage{sectsty}        % Change section and chapter header
\allsectionsfont{\usefont{OT1}{phv}{bc}{n}\selectfont} % Set chapter/section header to narrow helvectica (arial-like)
%\usepackage[scaled]{luximono} % for monospaced fonts (\texttt{...} or \ttfamily)

%%%%%%%%%%%%%%%%%%
% General packages
%%%%%%%%%%%%%%%%%%
\usepackage{xspace}
\usepackage{verbatim} % at least use begin{comment} end{comment}
\usepackage{booktabs} % Publication quality tables
%\usepackage[dvipdfmx]{graphicx} % Handles figures
\usepackage{graphicx}
\usepackage{bmpsize}            % Handles figures
\usepackage{subcaption}
\usepackage{wrapfig}
\usepackage{color,soul}
\usepackage{xcolor}
\usepackage[utf8]{inputenc} % We want æøå
\usepackage{amsfonts}
\usepackage{amssymb}
% Change the default alignment of a image from left or right an easy manner:
\usepackage[export]{adjustbox}
\usepackage[final]{pdfpages}
\usepackage{multirow}
\usepackage{array}

%%%%%%%
% Tikz/PGF
%%%%%%%
\usepackage{pgf}

\usepackage{tikz}
\usetikzlibrary{positioning,shapes.geometric}
\usetikzlibrary{arrows,automata,positioning}
\usetikzlibrary{calc,decorations,decorations.pathmorphing}
\usetikzlibrary{decorations.text}
\usetikzlibrary{matrix}
\usetikzlibrary{fit}
\usetikzlibrary{patterns}
\usetikzlibrary{topaths}

%%%%%%%%%%%%
% Algorithms & Math
%%%%%%%%%%%%

\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}

%%%%%%%%%%%%
% Other packages we need
%%%%%%%%%%%%

\usepackage[mathcal]{euscript} % For caligraphy fonts
\usepackage{setspace}       % Easy setting of line spacing
\usepackage{forloop}		% For-loops!
\usepackage[numbers,
			sort&compress
			]{natbib}       % Sort numerical keys for multiple cites
\usepackage{hypernat}       % Avoid breaking 'backref' option of hyperref package
\usepackage{float}
%\usepackage[dvipsnames]{color}   % named colors
\usepackage[procnames]{listings} % beautiful listings
\usepackage{units}				 % semantically represent numbers with units

% Use notes as comments in thesis
\usepackage{xargs}  % Use more than one optional parameter in a new commands
\usepackage[colorinlistoftodos,prependcaption,textsize=small]{todonotes}
\newcommandx{\notes}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}
% used first time a new concept is introduced
\newcommand\concept[1]{{\em #1}}

%
% Chapter Style Options: Sonny, Lenny, Glenn, Conny, Rejne, Bjarne, Bjornstrup
%\usepackage[Bjornstrup]{fncychap}
%
\usepackage{titlesec} % Chapter Style Setup:
\newcommand*\HUGE{\Huge}
\newcommand*\chapnamefont{\normalfont\color{blue}\LARGE\MakeUppercase}
\newcommand*\chapnumfont{\normalfont\color{blue}\HUGE}
\newcommand*\chaptitlefont{\normalfont\HUGE\bfseries}

\newlength\beforechapskip
\newlength\midchapskip
\setlength\midchapskip{\paperwidth}
\addtolength\midchapskip{-\textwidth}
\addtolength\midchapskip{-\oddsidemargin}
\addtolength\midchapskip{-1in}
\setlength\beforechapskip{18mm}

\titleformat{\chapter}[display]
  {\normalfont\filleft}
  {{\chapnamefont\chaptertitlename}%
    \makebox[36pt][l]{\color{blue}\hspace{.001em}%
      \resizebox{!}{\beforechapskip}{\chapnumfont\thechapter}%
      \hspace{.001em}%
      \rule{\midchapskip}{\beforechapskip}%
    }%
  }%
  {25pt}
  {\chaptitlefont}
\titlespacing*{\chapter}
  {0pt}{40pt}{40pt}

%
% The hyperref package allows advanced hyperlinking functionality
%
\usepackage[%dvipdfmx,        % Use dvipdf driver
			backref,         % List citing occurences in the References
			colorlinks,      % Colored links
			citecolor=blue,  % Color of cite links
			linkcolor=blue,  % Color of links
			urlcolor=blue,   % Color of urls
			]{hyperref}
%\newcommand{\aref}[1]{\autoref*{#1}} % Prevent links
\newcommand{\aref}[1]{\autoref{#1}} % Enable links

%
% Set fancy page header using fancyhdr package
%
\usepackage{fancyhdr}
\pagestyle{fancy}

% Ensure that the chapter and section headings are in lowercase
\setlength{\headheight}{15pt}
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}

% Delete current section for header/footer
\fancyhf{}

% Define header/footer layout
\fancyhead[LE,RO]{\bfseries\thepage}
\fancyhead[LO]{\bfseries\rightmark}
\fancyhead[RE]{\bfseries\leftmark}
\renewcommand{\headrulewidth}{0.5pt}

% make space for the rule
\fancypagestyle{plain}{
	\fancyhead{} %get rid of the headers on plain pages
	\renewcommand{\headrulewidth}{0pt} % and the line
}
